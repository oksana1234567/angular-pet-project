"use strict";(self.webpackChunkreal_world=self.webpackChunkreal_world||[]).push([[187],{187:(f,r,o)=>{o.r(r),o.d(r,{SettingsModule:()=>d});var u=o(9808),m=o(7656),s=o(2382),a=o(2340),e=o(1223),l=o(3071);function g(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"h3"),e._uU(2,"Your Settings"),e.qZA(),e.TgZ(3,"form",2),e._UZ(4,"input",3)(5,"input",4)(6,"textarea",5)(7,"input",6),e.TgZ(8,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().publish()}),e._uU(9,"Update Settings"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("formGroup",t.newSettingsForm)}}const p=[{path:"",component:(()=>{class n{constructor(t){this.userService=t,this.environment=a.N,this.subscriptions$=[]}ngOnInit(){this.gettingUserData()}generateForm(){return this.newSettingsForm=new s.cw({image:new s.NI(""),username:new s.NI(""),bio:new s.NI(""),email:new s.NI("")})}gettingUserData(){this.subscriptionUser$=this.userService.getLoggedUser().subscribe(t=>{this.user=t,this.updareForm(this.user)}),this.subscriptions$.push(this.subscriptionUser$),this.generateForm()}updareForm(t){this.newSettingsForm.patchValue({image:t.image,username:t.username,bio:t.bio,email:t.email})}publish(){this.user&&(this.newUserSet=Object.assign(Object.assign({},this.newSettingsForm.value),{token:this.user.token}),this.subscriptionSettings$=this.userService.postNewSettings(this.newUserSet).subscribe()),this.subscriptions$.push(this.subscriptionSettings$)}doUserLogout(){this.userService.doLogout()}ngOnDestroy(){this.subscriptions$.forEach(t=>{t&&t.unsubscribe()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(l.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-settings"]],decls:1,vars:1,consts:[["class","settingsMain",4,"ngIf"],[1,"settingsMain"],[3,"formGroup"],["type","text","formControlName","image","placeholder","Your new image (url)",1,"element","form-control"],["type","text","formControlName","username","placeholder","Your new name",1,"element","form-control"],["rows","10","formControlName","bio","placeholder","Your bio",1,"element","form-control"],["type","text","formControlName","email","placeholder","Your email",1,"element","form-control"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,c){1&t&&e.YNc(0,g,10,1,"div",0),2&t&&e.Q6J("ngIf",c.user)},directives:[u.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u],styles:[".element[_ngcontent-%COMP%]{margin-bottom:1.5rem}.settingsMain[_ngcontent-%COMP%]{text-align:center;max-width:80%;margin:auto;margin-top:2rem}"]}),n})()}];let h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[m.Bz.forChild(p)],m.Bz]}),n})(),d=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.ez,h,s.UX]]}),n})()}}]);