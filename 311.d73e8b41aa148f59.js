"use strict";(self.webpackChunkreal_world=self.webpackChunkreal_world||[]).push([[311],{9311:(k,u,r)=>{r.r(u),r.d(u,{ProfileModule:()=>J});var s=r(9808),a=r(7656),p=r(3450),t=r(1223),h=r(3071),g=r(4945);function f(i,n){if(1&i&&(t.TgZ(0,"h2"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.user.username)}}function d(i,n){1&i&&t.GkF(0)}function v(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,d,1,0,"ng-container",11),t.qZA()),2&i){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function x(i,n){1&i&&t.GkF(0)}function P(i,n){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,x,1,0,"ng-container",11),t.qZA()),2&i){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function C(i,n){if(1&i&&(t.TgZ(0,"ul")(1,"li")(2,"button",23),t._uU(3),t.qZA()()()),2&i){const e=n.$implicit;t.xp6(3),t.Oqu(e)}}const _=function(i){return["/article",i]};function A(i,n){if(1&i&&(t.TgZ(0,"a",12)(1,"article",13)(2,"div",14),t._UZ(3,"img",15),t.TgZ(4,"div",16)(5,"a",17),t._uU(6),t.qZA(),t.TgZ(7,"p",18),t._uU(8),t.ALo(9,"date"),t.qZA()()(),t.TgZ(10,"h3"),t._uU(11),t.qZA(),t.TgZ(12,"p",19),t._uU(13),t.qZA(),t.TgZ(14,"a",20),t._uU(15,"Read more..."),t.qZA(),t.TgZ(16,"span",21),t._uU(17),t.qZA(),t.TgZ(18,"div",22),t.YNc(19,C,4,1,"ul",9),t.qZA()()()),2&i){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(12,_,e.slug)),t.xp6(3),t.s9C("src",e.author.image,t.LSH),t.xp6(3),t.Oqu(e.author.username),t.xp6(2),t.Oqu(t.xi3(9,9,e.createdAt,"longDate")),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Oqu(e.body),t.xp6(1),t.Q6J("routerLink",t.VKq(14,_,e.slug)),t.xp6(3),t.hij(" ",e.favoritesCount,""),t.xp6(2),t.Q6J("ngForOf",e.tagList)}}function b(i,n){if(1&i&&(t.TgZ(0,"li"),t.YNc(1,v,2,1,"div",4),t.YNc(2,P,2,1,"div",4),t.YNc(3,A,20,16,"ng-template",null,10,t.W1O),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.user&&e.isOwn&&e.isLogged),t.xp6(1),t.Q6J("ngIf",e.user&&e.isFavourite&&e.isLogged)}}const O=function(i,n,e){return{itemsPerPage:i,currentPage:n,totalItems:e}};function T(i,n){if(1&i&&(t.TgZ(0,"ul"),t.YNc(1,b,5,2,"li",9),t.ALo(2,"paginate"),t.qZA()),2&i){const e=n.ngIf,o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e,t.kEZ(4,O,o.pageSize,o.page,e.length)))}}function Z(i,n){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"pagination-controls",24),t.NdJ("pageChange",function(c){return t.CHM(e),t.oxw(2).handlePageChange(c)}),t.qZA(),t.BQk()}}function M(i,n){1&i&&(t.ynx(0),t.TgZ(1,"p",25),t._uU(2,"No articles yet..."),t.qZA(),t.BQk())}const y=function(){return["/settings"]},m=function(i){return{"btn-outline-primary":i}};function w(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2),t._UZ(2,"img",3),t.YNc(3,f,2,1,"h2",4),t.TgZ(4,"a",5),t._uU(5," Settings "),t.qZA()(),t.TgZ(6,"div",6)(7,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().showOwnArticles()}),t._uU(8,"My Articles"),t.qZA(),t.TgZ(9,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().showFavouriteArticles()}),t._uU(10,"Favourite Articles"),t.qZA()(),t.YNc(11,T,3,8,"ul",4),t.ALo(12,"async"),t.TgZ(13,"div",8),t.YNc(14,Z,2,0,"ng-container",4),t.qZA(),t.YNc(15,M,3,0,"ng-container",4),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.s9C("src",e.user.image,t.LSH),t.xp6(1),t.Q6J("ngIf",e.user),t.xp6(1),t.Q6J("routerLink",t.DdM(10,y)),t.xp6(3),t.Q6J("ngClass",t.VKq(11,m,e.isOwn)),t.xp6(2),t.Q6J("ngClass",t.VKq(13,m,e.isFavourite)),t.xp6(2),t.Q6J("ngIf",t.lcZ(12,8,e.articles$)),t.xp6(3),t.Q6J("ngIf",e.length>e.pageSize),t.xp6(1),t.Q6J("ngIf",0===e.length)}}const F=[{path:"",component:(()=>{class i{constructor(e,o){this.httpService=e,this.userService=o,this.isFavourite=!0,this.isOwn=!1,this.page=1,this.pageSize=2,this.subscriptions$=[]}ngOnInit(){this.articles$=this.httpService.articles$,this.isLogged=this.userService.getToken(),this.subscriptionUser$=this.getNewUser().subscribe(e=>{this.user=e,this.showFavouriteArticles()}),this.subscriptions$.push(this.subscriptionUser$)}handlePageChange(e){this.page=e}getArticles(e,o,c){this.articles$=this.httpService.articles$,this.subscriptionArticle$=this.httpService.getOwnArticles(e,o,c).subscribe(l=>this.length=l.length),this.subscriptions$.push(this.subscriptionArticle$)}getFavoritedArticles(e,o,c){this.articles$=this.httpService.articles$,this.subscriptionArticle$=this.httpService.getAllFavoritedArticles(e,o,c).subscribe(l=>this.length=l.length),this.subscriptions$.push(this.subscriptionArticle$)}showOwnArticles(){this.page=1,this.isOwn=!0,this.isFavourite=!1,this.user.username&&this.getArticles(this.user.username,50,0)}showFavouriteArticles(){this.page=1,this.isFavourite=!0,this.isOwn=!1,this.user.username&&this.getFavoritedArticles(50,0,this.user.username)}getNewUser(){return this.userService.getLoggedUser()}ngOnDestroy(){this.subscriptions$.forEach(e=>{e&&e.unsubscribe()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(p.j),t.Y36(h.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-profile"]],features:[t._Bn([p.j])],decls:1,vars:1,consts:[["class","containerPosition",4,"ngIf"],[1,"containerPosition"],[1,"hero"],["alt","",1,"profileAvatar",3,"src"],[4,"ngIf"],[1,"profileEditBtn","btn","btn-light",3,"routerLink"],[1,"buttons"],["type","button",1,"btn",3,"ngClass","click"],[1,"paginationPosition"],[4,"ngFor","ngForOf"],["estimateTemplate",""],[4,"ngTemplateOutlet"],[3,"routerLink"],[1,"article"],[1,"d-flex","align-items-center"],["alt","",1,"articleAuthorAvatar",3,"src"],[1,"d-flex","flex-column"],["href","",1,"articleAuthorName"],[1,"articleDate"],[1,"articleText"],[1,"articleReadMore",3,"routerLink"],[1,"articleHeart"],[1,"articleTags"],["type","button",1,"articleTag","btn","btn-light","btn-sm"],[3,"pageChange"],[1,"noArticle"]],template:function(e,o){1&e&&t.YNc(0,w,16,15,"div",0),2&e&&t.Q6J("ngIf",o.user)},directives:[s.O5,a.yS,s.mk,s.sg,s.tP,g.LS],pipes:[s.Ov,g._s,s.uU],styles:['@charset "UTF-8";.hero[_ngcontent-%COMP%]{padding:2rem;background-color:var(--primary-lightBlue-color);position:relative;text-align:center}.profileEditBtn[_ngcontent-%COMP%]{position:absolute;right:.5rem;bottom:.5rem}.profileAvatar[_ngcontent-%COMP%]{border-radius:50%;max-height:7rem}.profileEditBtn[_ngcontent-%COMP%]:before{content:"\\2699"}.article[_ngcontent-%COMP%]{position:relative;width:100%}.articleHeart[_ngcontent-%COMP%]{position:absolute;right:0px;top:4.5rem}.articleHeart[_ngcontent-%COMP%]:before{content:"\\2764"}.articleTag[_ngcontent-%COMP%]{margin-top:.2rem;margin-right:.4rem;font-size:.7rem}.articleTags[_ngcontent-%COMP%]{display:flex;margin-top:.8rem}.btn-link[_ngcontent-%COMP%]{color:var(--primary-lightBlue-color);margin-top:1.1rem}.article[_ngcontent-%COMP%]:before{content:"";display:block;width:100%;height:.1rem;background:var(--primary-light-color);border-radius:.1rem;margin-top:1.2rem;margin-bottom:1.2rem}.articleAuthorName[_ngcontent-%COMP%]{color:var(--primary-lightBlue-color);margin-left:.3rem}.articleDate[_ngcontent-%COMP%]{color:gray;font-size:.7rem;margin-bottom:0;margin-left:.3rem}.articleText[_ngcontent-%COMP%]{color:var(--primary-dark-color);width:90%;margin-bottom:.75rem}.articleReadMore[_ngcontent-%COMP%]{color:var(--primary-light-color);font-size:.8rem}.articleAuthorAvatar[_ngcontent-%COMP%]{border-radius:50%;height:90%;max-height:2rem}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:.5rem}.buttons[_ngcontent-%COMP%]{margin-top:.5rem}.noArticle[_ngcontent-%COMP%]{margin:1rem;text-align:center}.containerPosition[_ngcontent-%COMP%]{position:relative;padding-bottom:4rem}.paginationPosition[_ngcontent-%COMP%]{position:fixed;bottom:0px;left:50%;transform:translate(-50%)}.btn-outline-primary[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:hover{color:var(--primary-lightBlue-color);border-color:var(--primary-lightBlue-color)}.btn-light[_ngcontent-%COMP%]{background-color:#ebeeee;color:#000000a2}']}),i})()}];let q=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[a.Bz.forChild(F)],a.Bz]}),i})(),J=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[s.ez,q,g.JX]]}),i})()}}]);